<?xml version="1.0"?>
<project name="Erebot_Module_Countdown" description="" default="all">
    <property name="locales"            value="fr_FR,en_US"/>
    <property name="version"            value="0.3.2"/>
    <property name="email"              value="clicky@erebot.net"/>
    <property name="qa.coverage.force"  value="false"/>

    <fileset dir="src/" id="sources">
        <include name="**/*.php"/>
    </fileset>

    <fileset dir="tests/" id="tests">
        <include name="**/*.php"/>
        <exclude name="testenv/**/*.php"/>
    </fileset>

    <target name="all" depends="parser,i18n" description=""/>

    <target name="parser" description="">
        <exec command="ln -sf ../../../../data/Parser.y ./" dir="src/Erebot/Module/Countdown"/>
        <exec command="PHP_PEAR_INSTALL_DIR=/usr/share/php/ phplemon -q -s src/Erebot/Module/Countdown/Parser.y"/>
    </target>

    <target name="qa_test" description="" depends="qa_pre_coverage">
        <phpunit
            codecoverage="true"
            bootstrap="../../../autoloader.php"
            >
            <formatter type="plain" usefile="false"/>
            <batchtest><fileset refid="tests"/></batchtest>
        </phpunit>
    </target>

    <import file="buildenv/build.xml"/>
</project>
